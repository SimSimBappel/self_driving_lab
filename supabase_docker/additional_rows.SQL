ALTER TABLE chemical_locations ADD CONSTRAINT chemical_location_unique UNIQUE (chemical_id, location_id);
ALTER TABLE chemical_locations ADD UNIQUE (location_id);


ALTER TABLE workstation_locations ADD CONSTRAINT workstation_location_unique UNIQUE (workstation_id, location_id);
ALTER TABLE workstation_locations ADD UNIQUE (location_id);


-- ^ the below tables have these alterations added.

create table
  public.chemical (
    id bigint generated by default as identity,
    created_at timestamp with time zone not null default now(),
    name text null,
    formula text null,
    safety_level bigint null,
    constraint chemical_pkey primary key (id)
  ) tablespace pg_default;


  create table
  public.chemical_locations (
    chemical_id bigint not null,
    location_id bigint not null,
    constraint chemical_locations_pkey primary key (chemical_id, location_id),
    constraint chemical_location_unique unique (chemical_id, location_id),
    constraint chemical_locations_location_id_key unique (location_id),
    constraint public_chemical_locations_chemical_id_fkey foreign key (chemical_id) references chemical (id) on update cascade on delete cascade,
    constraint public_chemical_locations_location_id_fkey foreign key (location_id) references location (id) on update cascade on delete cascade
  ) tablespace pg_default;

  create table
  public.location (
    id bigint generated by default as identity,
    created_at timestamp with time zone not null default now(),
    location_hand json null,
    location_base json null,
    constraint location_pkey primary key (id)
  ) tablespace pg_default;


  create table
  public.workstation (
    id bigint generated by default as identity,
    created_at timestamp with time zone not null default now(),
    name text null,
    type text null,
    constraint workstation_pkey primary key (id)
  ) tablespace pg_default;

create table
  public.workstation_locations (
    workstation_id bigint not null,
    location_id bigint not null,
    constraint workstation_locations_pkey primary key (workstation_id, location_id),
    constraint workstation_location_unique unique (workstation_id, location_id),
    constraint workstation_locations_location_id_key unique (location_id),
    constraint public_workstation_locations_workstation_id_fkey foreign key (workstation_id) references workstation (id) on update cascade on delete cascade,
    constraint public_workstation_locations_location_id_fkey foreign key (location_id) references location (id) on update cascade on delete cascade
  ) tablespace pg_default;